<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selective Regeneration SOP - Slate Systems</title>
    <style>
        :root { --navy: #152a45; --gray: #525c69; --orange: #ee7000; --white: #ffffff; --dark-bg: #0d1a2d; --card-bg: #1a2d47; --border: #2a4060; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--dark-bg); color: var(--white); line-height: 1.7; }

        .top-nav {
            background: var(--navy);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid var(--orange);
        }
        .nav-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 1.5rem;
            max-width: 1000px;
            margin: 0 auto;
        }
        .nav-brand {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.6rem 0;
            text-decoration: none;
        }
        .nav-logo { height: 28px; width: auto; }
        .nav-subtitle {
            background: var(--orange);
            color: var(--white);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.65rem;
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        .nav-back {
            color: var(--white);
            text-decoration: none;
            font-size: 0.85rem;
            opacity: 0.8;
            transition: opacity 0.2s;
        }
        .nav-back:hover { opacity: 1; }

        .container { max-width: 900px; margin: 0 auto; padding: 2rem 1.5rem; }

        .toc-toggle {
            background: var(--card-bg);
            border: 1px solid var(--border);
            color: var(--white);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            width: 100%;
            justify-content: space-between;
        }
        .toc-toggle:hover { border-color: var(--orange); }
        .toc-toggle .arrow { transition: transform 0.2s; }
        .toc-toggle.open .arrow { transform: rotate(180deg); }

        .toc {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem 1.5rem;
            margin-bottom: 2rem;
            display: none;
        }
        .toc.open { display: block; }
        .toc-title { font-weight: 600; margin-bottom: 0.75rem; color: var(--orange); }
        .toc ul { list-style: none; }
        .toc li { margin-bottom: 0.4rem; }
        .toc a { color: var(--white); text-decoration: none; font-size: 0.9rem; opacity: 0.8; }
        .toc a:hover { opacity: 1; color: var(--orange); }

        h1 { font-size: 2rem; color: var(--white); margin-bottom: 0.5rem; border-bottom: 2px solid var(--orange); padding-bottom: 0.75rem; }
        h2 { font-size: 1.5rem; color: var(--white); margin: 2.5rem 0 1rem; padding-top: 1.5rem; border-top: 1px solid var(--border); scroll-margin-top: 80px; }
        h3 { font-size: 1.2rem; color: #cbd5e1; margin: 1.5rem 0 0.75rem; }
        h4 { font-size: 1rem; color: #94a3b8; margin: 1.25rem 0 0.5rem; }
        p { margin-bottom: 1rem; }
        ul, ol { margin: 1rem 0; padding-left: 2rem; }
        li { margin-bottom: 0.5rem; }

        .meta-box {
            background: var(--card-bg);
            border-left: 4px solid var(--orange);
            padding: 1rem 1.25rem;
            border-radius: 0 8px 8px 0;
            margin-bottom: 1.5rem;
        }
        .meta-box p { margin: 0.25rem 0; font-size: 0.9rem; }
        .meta-box strong { color: var(--orange); }

        blockquote {
            background: var(--card-bg);
            border-left: 4px solid var(--orange);
            padding: 1rem 1.5rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        pre {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1rem 0;
            border: 1px solid var(--border);
            font-size: 0.85rem;
        }
        code {
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.9em;
        }
        :not(pre) > code {
            background: var(--border);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
        }
        th, td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        th { background: var(--border); color: var(--white); font-weight: 600; }
        tr:last-child td { border-bottom: none; }

        hr { border: none; border-top: 1px solid var(--border); margin: 2rem 0; }
        a { color: var(--orange); }
        strong { color: var(--white); }

        .checkbox-item { list-style: none; margin-left: -1rem; }
        .checkbox-item input { margin-right: 0.5rem; }

        .page-nav {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
        }
        .page-nav a {
            background: var(--card-bg);
            border: 1px solid var(--border);
            padding: 1rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            color: var(--white);
            transition: border-color 0.2s;
            flex: 1;
            max-width: 45%;
        }
        .page-nav a:hover { border-color: var(--orange); }
        .page-nav .prev { text-align: left; }
        .page-nav .next { text-align: right; margin-left: auto; }
        .page-nav .label { font-size: 0.75rem; color: var(--gray); margin-bottom: 0.25rem; }
        .page-nav .title { font-weight: 600; color: var(--orange); }

        footer {
            text-align: center;
            padding: 2rem;
            color: var(--gray);
            font-size: 0.85rem;
            border-top: 1px solid var(--border);
            margin-top: 3rem;
        }
        footer a { color: var(--orange); }
    </style>
</head>
<body>
    <nav class="top-nav">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">
                <img src="assets/Slate_Systems_Logo_White.png" alt="Slate" class="nav-logo">
                <span class="nav-subtitle">FULFILLMENT</span>
            </a>
            <a href="index.html" class="nav-back">Back to Portal</a>
        </div>
    </nav>

    <div class="container">
        <h1>Selective Regeneration SOP</h1>

        <div class="meta-box">
            <p><strong>Role:</strong> Fulfillment Specialist</p>
            <p><strong>When:</strong> Content needs correction after initial AI generation</p>
            <p><strong>Time:</strong> 2-5 minutes per regeneration</p>
            <p><strong>Form URL:</strong> <a href="https://regen.slatesystems.io/" target="_blank">https://regen.slatesystems.io/</a></p>
            <p><strong>Last Updated:</strong> Feb 21, 2026</p>
        </div>

        <button class="toc-toggle" onclick="toggleToc()">
            <span>Table of Contents</span>
            <span class="arrow">&#9660;</span>
        </button>

        <div class="toc" id="toc">
            <div class="toc-title">Contents</div>
            <ul>
                <li><a href="#when">When to Use</a></li>
                <li><a href="#process">Process</a></li>
                <li><a href="#technical">How It Works (Technical)</a></li>
                <li><a href="#context">Field Categories &amp; Context</a></li>
                <li><a href="#examples">Examples</a></li>
                <li><a href="#troubleshooting">Troubleshooting</a></li>
                <li><a href="#cost">Cost &amp; Best Practices</a></li>
            </ul>
        </div>

        <h2 id="when">When to Use</h2>

        <p>Use Selective Regeneration when:</p>
        <ul>
            <li>QA reveals placeholder text or poor quality content</li>
            <li>Client requests specific changes to generated content</li>
            <li>Services/areas need refinement or different wording</li>
            <li>Blog posts need different tone or style</li>
            <li>Stats or FAQs don't fit the business</li>
        </ul>

        <p><strong>Do NOT use for:</strong></p>
        <ul>
            <li>Initial content generation (use Build Notes Trigger)</li>
            <li>Changing images (image selection is separate)</li>
            <li>Updating business info (edit Custom Values directly)</li>
        </ul>

        <h2 id="process">Process</h2>

        <h3>Step 1: Open the Form</h3>

        <p>Go to the Selective Regeneration Form:</p>
        <ul>
            <li><strong>URL:</strong> <a href="https://regen.slatesystems.io/" target="_blank">https://regen.slatesystems.io/</a></li>
        </ul>

        <h3>Step 2: Enter Location ID</h3>

        <p>Find the client's Location ID:</p>
        <ul>
            <li><strong>Option A:</strong> Client sub-account - Settings - Business Info - Location ID</li>
            <li><strong>Option B:</strong> Baserow table 946 - <code>location_id</code> column</li>
        </ul>
        <p>Paste into the "Location ID" field.</p>

        <h3>Step 3: Select Fields to Regenerate</h3>

        <p>Check ONLY the fields that need correction:</p>

        <table>
            <thead>
                <tr><th>Section</th><th>Fields</th></tr>
            </thead>
            <tbody>
                <tr><td>Marketing &amp; Hero</td><td>Broad Service Name, Sub Headline, Hero Description, About Us, Discount</td></tr>
                <tr><td>Stats</td><td>Stat 1-4 Number, Stat 1-4 Label</td></tr>
                <tr><td>FAQ Answers</td><td>FAQ 1-4</td></tr>
                <tr><td>Services 1-6</td><td>Service Name + Description pairs</td></tr>
                <tr><td>Services 7-12</td><td>Service Name + Description pairs</td></tr>
                <tr><td>Blog Posts 1-3</td><td>Title, Description, Content per post</td></tr>
                <tr><td>Blog Posts 4-6</td><td>Title, Description, Content per post</td></tr>
                <tr><td>Service Areas</td><td>Area 1-14</td></tr>
            </tbody>
        </table>

        <blockquote><strong>Important:</strong> Only select what needs fixing. Each regeneration costs API credits.</blockquote>

        <h3>Step 4: Add Feedback (Optional but Recommended)</h3>

        <p>Use the "Feedback / Direction" field to guide the AI:</p>

        <p><strong>Good examples:</strong></p>
        <ul>
            <li>"Make the hero description more professional and emphasize quality"</li>
            <li>"Service descriptions should be shorter, max 15 words"</li>
            <li>"About us is too generic, mention 20 years experience"</li>
            <li>"FAQ answers should be more conversational"</li>
            <li>"Blog titles should be more SEO-friendly"</li>
        </ul>

        <p><strong>Bad examples:</strong></p>
        <ul>
            <li>"Make it better" (too vague)</li>
            <li>"Fix it" (no direction)</li>
        </ul>

        <h3>Step 5: Submit</h3>

        <p>Click <strong>Regenerate</strong> and wait 15-30 seconds.</p>

        <p><strong>Success:</strong> Shows "X fields regenerated for location [ID]"</p>
        <p><strong>Error:</strong> Shows error message - check location ID is correct</p>

        <h3>Step 6: Verify</h3>

        <ol>
            <li>Go to client sub-account - Settings - Custom Values</li>
            <li>Find the regenerated fields</li>
            <li>Confirm content looks correct</li>
            <li>Preview website to verify display</li>
        </ol>

        <h2 id="technical">How It Works (Technical)</h2>

        <p>The Selective Regeneration system uses <strong>smart context</strong>:</p>

        <ol>
            <li><strong>Fetches existing content</strong> from GHL Custom Values</li>
            <li><strong>Shows AI the current brand voice</strong> (other fields NOT being changed)</li>
            <li><strong>Excludes the field being changed</strong> (avoids bias/anchoring)</li>
            <li><strong>Applies your feedback</strong> as direction</li>
            <li><strong>Updates GHL directly</strong> via API</li>
        </ol>

        <p>This means regenerated content stays consistent with existing content.</p>

        <h2 id="context">Field Categories &amp; Context</h2>

        <p>When you regenerate a field, the AI sees related fields for consistency:</p>

        <table>
            <thead>
                <tr><th>Regenerating</th><th>AI Also Sees</th></tr>
            </thead>
            <tbody>
                <tr><td>Hero Description</td><td>Broad Service Name, Sub Headline, About Us</td></tr>
                <tr><td>Any Service</td><td>3 other services (for naming style)</td></tr>
                <tr><td>Any Service Description</td><td>3 other descriptions (for length/tone)</td></tr>
                <tr><td>Any Area</td><td>3 other areas (for formatting)</td></tr>
                <tr><td>Any Stat</td><td>All other stats (they work as a set)</td></tr>
                <tr><td>Any FAQ</td><td>2 other FAQs (for tone matching)</td></tr>
                <tr><td>Any Blog</td><td>1 complete blog post (for style reference)</td></tr>
            </tbody>
        </table>

        <h2 id="examples">Examples</h2>

        <h3>Example 1: Hero Description Too Generic</h3>

        <p><strong>Problem:</strong> Hero says "Quality services for your home"</p>
        <p><strong>Action:</strong></p>
        <ol>
            <li>Select: <code>hero_description</code></li>
            <li>Notes: "Emphasize veteran-owned, Google Guaranteed, mention painting specifically"</li>
            <li>Regenerate</li>
        </ol>
        <p><strong>Result:</strong> "Expert painting services delivered with military precision. Veteran-owned, Google Guaranteed, and committed to exceptional craftsmanship."</p>

        <h3>Example 2: Services Need Refinement</h3>

        <p><strong>Problem:</strong> Services are too broad ("Home Repairs")</p>
        <p><strong>Action:</strong></p>
        <ol>
            <li>Select: <code>service_1</code>, <code>service_2</code>, <code>service_3</code></li>
            <li>Notes: "Be more specific to residential plumbing - water heaters, drain cleaning, pipe repair"</li>
            <li>Regenerate</li>
        </ol>

        <h3>Example 3: Blog Post Wrong Tone</h3>

        <p><strong>Problem:</strong> Blog post sounds too formal/corporate</p>
        <p><strong>Action:</strong></p>
        <ol>
            <li>Select: <code>blog_post_2_title</code>, <code>blog_post_2_description</code>, <code>blog_post_2_content</code></li>
            <li>Notes: "More conversational, friendly tone. Like talking to a neighbor."</li>
            <li>Regenerate</li>
        </ol>

        <h2 id="troubleshooting">Troubleshooting</h2>

        <h3>"Error: Onboarding not found"</h3>
        <ul>
            <li>Location ID is wrong or doesn't exist in Baserow</li>
            <li>Check Baserow table 946 for correct location_id</li>
        </ul>

        <h3>Regeneration takes too long (&gt;60 seconds)</h3>
        <ul>
            <li>OpenClaw server may be slow</li>
            <li>Try again in a few minutes</li>
            <li>If persistent, check n8n execution logs</li>
        </ul>

        <h3>Content didn't change</h3>
        <ul>
            <li>Field may not have been checked</li>
            <li>GHL API may have failed - check n8n execution</li>
            <li>Try regenerating again</li>
        </ul>

        <h3>Content is worse than before</h3>
        <ul>
            <li>Add more specific notes/direction</li>
            <li>Regenerate with clearer guidance</li>
            <li>Manual edit in GHL may be faster for small tweaks</li>
        </ul>

        <h2 id="cost">Cost &amp; Best Practices</h2>

        <p><strong>Each regeneration uses API credits (Claude via OpenRouter)</strong></p>

        <p><strong>Do:</strong></p>
        <ul>
            <li>Regenerate only what's broken</li>
            <li>Use detailed notes to guide AI</li>
            <li>Batch related fields together (all services at once)</li>
        </ul>

        <p><strong>Don't:</strong></p>
        <ul>
            <li>Regenerate everything "just to be safe"</li>
            <li>Regenerate without notes (wastes iterations)</li>
            <li>Use for tiny tweaks (faster to edit manually)</li>
        </ul>

        <hr>

        <p><strong>Related Documentation:</strong></p>
        <ul>
            <li><a href="client-build.html">Client Build SOP</a> - Full client build process</li>
            <li><a href="pre-launch-checklist.html">Pre-Launch Checklist</a> - QA checklist (when to use selective regen)</li>
            <li><code>slate-content-generator-v2.md</code> - Technical workflow details</li>
        </ul>

        <hr>

        <p><em>Last updated: Feb 21, 2026</em></p>
        <p><em>Workflow ID: jDGPTsr1OOLjsfxR</em></p>

        <div class="page-nav">
            <a href="pre-launch-checklist.html" class="prev">
                <div class="label">Previous</div>
                <div class="title">Pre-Launch Checklist</div>
            </a>
            <div></div>
        </div>
    </div>

    <footer>
        &copy; 2026 Slate Systems LLC | <a href="index.html">Fulfillment Portal</a>
    </footer>

    <script>
        function toggleToc() {
            const toc = document.getElementById('toc');
            const btn = document.querySelector('.toc-toggle');
            toc.classList.toggle('open');
            btn.classList.toggle('open');
        }
    </script>
</body>
</html>
